{"version":3,"sources":["context.js","SearchForm.js","Movies.js","Home.js","SingleMovie.js","App.js","index.js"],"names":["API_ENDPOINT","process","AppContext","React","createContext","AppProvider","children","useState","setLoading","show","msg","error","setError","movies","setMovies","query","setQuery","fetchMovies","url","a","fetch","response","json","data","console","log","Response","Search","useEffect","Provider","value","useGlobalContext","useContext","SearchForm","className","onSubmit","e","preventDefault","type","onChange","target","Movies","isLoading","map","movie","id","imdbID","poster","Poster","title","Title","year","Year","to","key","src","alt","Home","SingleMovie","useParams","setMovie","setIsLoading","fetchMovie","Error","plot","Plot","App","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7087622a.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\n// make sure to use https\r\nexport const API_ENDPOINT = `http://www.omdbapi.com/?apikey=${process.env.REACT_APP_API_KEY}`\r\n// console.log(API_ENDPOINT);\r\n\r\nconst AppContext = React.createContext()\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [loading, setLoading] = useState(true)\r\n  const [ error, setError] = useState({show:false,msg:''})\r\n  const [movies, setMovies] = useState([])\r\n  const [query, setQuery] = useState(\"Forrest Gump\")\r\n\r\n  const fetchMovies = async (url) => {\r\n    setLoading(true);\r\n    try{\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      console.log(data);\r\n\r\n      if(data.Response === 'True'){\r\n        setMovies(data.Search)\r\n        setError({show:false, msg: \"\"})\r\n      }\r\n      else{\r\n        setError({show:true, msg:\"That movie was not found!\"})\r\n      }\r\n      \r\n    }catch(error){\r\n      console.log(error)\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchMovies(`${API_ENDPOINT}&s={Forrest Gump}`)\r\n  },[query])\r\n  \r\n  return <AppContext.Provider value={{setLoading, error, movies, query, setQuery}}>{children}</AppContext.Provider>\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst SearchForm = () => {\r\n  const {query, setQuery, error} = useGlobalContext();\r\n  return <form className=\"search-form\" onSubmit={(e)=>e.preventDefault()}>\r\n    <h2>Search movies</h2>\r\n    <input type=\"text\" className=\"form-input\" value={query} onChange={(e)=> setQuery(e.target.value)} />\r\n    {error.show && <div className='error'>\r\n      {error.msg}\r\n    </div>}\r\n  </form>\r\n}\r\n\r\nexport default SearchForm\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nimport { Link } from 'react-router-dom'\r\nconst url =\r\n  'https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png'\r\n\r\nconst Movies = () => {\r\n  const {movies, isLoading} = useGlobalContext();\r\n\r\n  if(isLoading){\r\n    return <div className=\"loading\"></div>\r\n  }\r\n  return <section className='movies'>\r\n  {movies.map((movie) =>{\r\n    const {imdbID:id,Poster:poster,Title:title,Year:year} = movie\r\n    return <Link to={`/movies/${id}`} key={id} className='movie'>\r\n      <article>\r\n        <img src={poster === 'N/A' ? url : poster} alt={title} />\r\n        <div className=\"movie-info\">\r\n          <h4 className=\"title\">{title}</h4>\r\n          <p>{year}</p>\r\n        </div>\r\n      </article>\r\n    </Link>\r\n  })}\r\n  </section>\r\n}\r\n\r\nexport default Movies\r\n","import React from 'react'\r\nimport Form from './SearchForm'\r\nimport Movies from './Movies'\r\nconst Home = () => {\r\n  return <main>\r\n    <Form/>\r\n    <Movies/>\r\n  </main>\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { API_ENDPOINT } from './context'\r\n\r\nconst url =\r\n  'https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png'\r\n\r\nconst SingleMovie = () => {\r\n  const {id} = useParams()\r\n  const [movie, setMovie] = useState({})\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState({show:false,msg:\"\"})\r\n\r\n  const fetchMovie = async (url) =>{\r\n    const response= await fetch(url);\r\n    const data = await response.json();\r\n   if(data.Response === 'False'){\r\n    setError({show:true,msg:data.Error})\r\n    setIsLoading(false)\r\n   }else{\r\n     setMovie(data)\r\n     setIsLoading(false)\r\n   }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchMovie(`${API_ENDPOINT}&i=${id}`)\r\n  },[id])\r\n\r\n  if(isLoading){\r\n    return <div className='loading'></div>\r\n  }\r\n  if(error.show){\r\n    return <div className='page-error'>\r\n      <h1>{error.msg}</h1>\r\n      <Link to=\"/\" className='btn'>\r\n        back to movies\r\n      </Link>\r\n    </div>\r\n  }\r\n  const {Poster:poster,Title:title,Plot:plot,Year:year} = movie;\r\n  return <section className=\"single-movie\">\r\n    <img src={poster === 'N/A' ? url : poster} alt={title} />\r\n    <div className=\"single-movie-info\">\r\n      <h2>{title}</h2>\r\n      <p>{plot}</p>\r\n      <h4>{year}</h4>\r\n      <Link to=\"/\" className='btn' >\r\n        back to movies\r\n      </Link>\r\n    </div>\r\n  </section>\r\n}\r\n\r\nexport default SingleMovie\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport Home from './Home'\r\nimport Movie from './SingleMovie'\r\n\r\nfunction App() {\r\n  return <Switch>\r\n    <Route path=\"/\" exact >\r\n      <Home/>\r\n    </Route>\r\n    <Route path=\"/movies/:id\" children={<Movie/>}/>\r\n  </Switch>\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { AppProvider } from './context'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}